{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "schemas/ability_schema.json",
  "$version": "1.0.0",
  "$comment": "This schema is used to validate dragon ability JSON files in the data/dmr/abilities directory. Each ability defines a special power or trait that can be assigned to dragon breeds.",
  "title": "Dragon Ability Schema",
  "description": "Schema for defining dragon abilities that can be assigned to dragon breeds",
  "type": "object",
  "oneOf": [
    {
      "type": "object",
      "properties": {
        "ability_type": {
          "type": "string",
          "enum": ["effect"],
          "description": "Specifies that this ability applies status effects to the dragon's owner. Uses GenericEffectAbility implementation."
        },
        "max_tier": {
          "type": "integer",
          "description": "Maximum tier level this ability can reach. Higher tiers typically provide stronger effects.",
          "minimum": 1,
          "default": 1,
          "examples": [3, 5]
        },
        "breed_transferable": {
          "type": "boolean",
          "description": "Whether the ability can be transferred to offspring when breeding dragons.",
          "default": false,
          "examples": [true, false]
        },
        "properties": {
          "type": "object",
          "description": "Properties specific to effect abilities.",
          "properties": {
            "range": {
              "type": "integer",
              "description": "Range in blocks for the ability effect.",
              "minimum": 0,
              "default": 10
            },
            "apply_to_dragon": {
              "type": "boolean",
              "description": "Whether to apply the effect to the dragon itself.",
              "default": true
            },
            "apply_to_owner": {
              "type": "boolean",
              "description": "Whether to apply the effect to the dragon's owner.",
              "default": false
            },
            "effects": {
              "type": "array",
              "description": "List of effects to apply (new format).",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "$ref": "definitions.json#/$defs/effect",
                    "description": "The status effect to apply."
                  },
                  "duration": {
                    "$ref": "definitions.json#/$defs/duration_integer",
                    "description": "Duration of the effect in ticks.",
                    "default": 40
                  },
                  "amplifier": {
                    "type": "integer",
                    "description": "Amplifier level of the effect (0 = level 1).",
                    "minimum": 0,
                    "default": 0
                  },
                  "ambient": {
                    "type": "boolean",
                    "description": "Whether the effect is ambient (from a beacon).",
                    "default": true
                  },
                  "show_particles": {
                    "type": "boolean",
                    "description": "Whether to show effect particles.",
                    "default": false
                  },
                  "show_icon": {
                    "type": "boolean",
                    "description": "Whether to show the effect icon.",
                    "default": true
                  },
                  "duration_scale_factor": {
                    "type": "number",
                    "description": "Factor by which the duration scales with ability tier.",
                    "minimum": 0,
                    "default": 1.0
                  },
                  "amplifier_scale_factor": {
                    "type": "number",
                    "description": "Factor by which the amplifier scales with ability tier.",
                    "minimum": 0,
                    "default": 0.0
                  }
                },
                "required": ["id"]
              }
            },
            "effect": {
              "$ref": "definitions.json#/$defs/effect",
              "description": "Single effect to apply (legacy format for backward compatibility)."
            },
            "duration": {
              "$ref": "definitions.json#/$defs/duration_integer",
              "description": "Duration of the effect in ticks (legacy format).",
              "default": 40
            },
            "amplifier": {
              "type": "integer",
              "description": "Amplifier level of the effect (legacy format).",
              "minimum": 0,
              "default": 0
            },
            "ambient": {
              "type": "boolean",
              "description": "Whether the effect is ambient (legacy format).",
              "default": true
            },
            "show_particles": {
              "type": "boolean",
              "description": "Whether to show effect particles (legacy format).",
              "default": false
            },
            "show_icon": {
              "type": "boolean",
              "description": "Whether to show the effect icon (legacy format).",
              "default": true
            },
            "duration_scale_factor": {
              "type": "number",
              "description": "Factor by which the duration scales with ability tier (legacy format).",
              "minimum": 0,
              "default": 1.0
            },
            "amplifier_scale_factor": {
              "type": "number",
              "description": "Factor by which the amplifier scales with ability tier (legacy format).",
              "minimum": 0,
              "default": 0.0
            }
          }
        }
      },
      "required": ["ability_type"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "properties": {
        "ability_type": {
          "type": "string",
          "enum": ["attribute"],
          "description": "Specifies that this ability modifies dragon attributes like health, speed, armor, etc."
        },
        "max_tier": {
          "type": "integer",
          "description": "Maximum tier level this ability can reach. Higher tiers typically provide stronger effects.",
          "minimum": 1,
          "default": 1,
          "examples": [3, 5]
        },
        "breed_transferable": {
          "type": "boolean",
          "description": "Whether the ability can be transferred to offspring when breeding dragons.",
          "default": false,
          "examples": [true, false]
        },
        "attributes": {
          "$ref": "definitions.json#/$defs/attributes",
          "description": "Attribute modifiers to apply to the dragon. Maps attribute IDs to their numeric values.",
          "examples": [
            {"minecraft:generic.max_health": 20.0, "minecraft:generic.movement_speed": 0.3}
          ]
        }
      },
      "required": ["ability_type", "attributes"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "properties": {
        "ability_type": {
          "type": "string",
          "enum": ["aura"],
          "description": "Specifies that this ability applies effects to entities in an area around the dragon. Uses GenericAuraAbility implementation."
        },
        "max_tier": {
          "type": "integer",
          "description": "Maximum tier level this ability can reach. Higher tiers typically provide stronger effects.",
          "minimum": 1,
          "default": 1,
          "examples": [3, 5]
        },
        "breed_transferable": {
          "type": "boolean",
          "description": "Whether the ability can be transferred to offspring when breeding dragons.",
          "default": false,
          "examples": [true, false]
        },
        "properties": {
          "type": "object",
          "description": "Properties specific to aura abilities.",
          "properties": {
            "effect": {
              "$ref": "definitions.json#/$defs/effect",
              "description": "The status effect to apply to entities in the aura."
            },
            "duration": {
              "$ref": "definitions.json#/$defs/duration_integer",
              "description": "Duration of the effect in ticks.",
              "default": 40
            },
            "amplifier": {
              "type": "integer",
              "description": "Amplifier level of the effect (0 = level 1).",
              "minimum": 0,
              "default": 0
            },
            "radius": {
              "type": "integer",
              "description": "Radius in blocks for the aura effect.",
              "minimum": 0,
              "default": 5
            },
            "affect_owner": {
              "type": "boolean",
              "description": "Whether to apply the effect to the dragon's owner.",
              "default": false
            },
            "affect_allies": {
              "type": "boolean",
              "description": "Whether to apply the effect to allied entities.",
              "default": true
            },
            "affect_enemies": {
              "type": "boolean",
              "description": "Whether to apply the effect to enemy entities.",
              "default": false
            }
          },
          "required": ["effect"]
        }
      },
      "required": ["ability_type"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "properties": {
        "ability_type": {
          "type": "string",
          "enum": ["monster_aura"],
          "description": "Specifies that this ability affects nearby monsters or entities. Uses GenericMonsterAuraAbility implementation."
        },
        "max_tier": {
          "type": "integer",
          "description": "Maximum tier level this ability can reach. Higher tiers typically provide stronger effects.",
          "minimum": 1,
          "default": 1,
          "examples": [3, 5]
        },
        "breed_transferable": {
          "type": "boolean",
          "description": "Whether the ability can be transferred to offspring when breeding dragons.",
          "default": false,
          "examples": [true, false]
        },
        "properties": {
          "type": "object",
          "description": "Properties specific to monster aura abilities.",
          "properties": {
            "effect": {
              "$ref": "definitions.json#/$defs/effect",
              "description": "The status effect to apply to nearby monsters."
            },
            "duration": {
              "$ref": "definitions.json#/$defs/duration_integer",
              "description": "Duration of the effect in ticks.",
              "default": 40
            },
            "amplifier": {
              "type": "integer",
              "description": "Amplifier level of the effect (0 = level 1).",
              "minimum": 0,
              "default": 0
            },
            "range": {
              "type": "number",
              "description": "Range in blocks for the aura effect.",
              "minimum": 0,
              "default": 10.0
            },
            "ignore_line_of_sight": {
              "type": "boolean",
              "description": "Whether to ignore line of sight when targeting monsters.",
              "default": true
            },
            "fire_ticks": {
              "type": "integer",
              "description": "Number of fire ticks to apply to nearby monsters.",
              "minimum": 0,
              "default": 0
            },
            "requires_no_fire": {
              "type": "boolean",
              "description": "Whether the target must not be on fire for the effect to apply.",
              "default": false
            },
            "requires_not_fire_immune": {
              "type": "boolean",
              "description": "Whether the target must not be fire immune for the effect to apply.",
              "default": false
            },
            "requires_not_in_water_rain_or_bubble": {
              "type": "boolean",
              "description": "Whether the target must not be in water, rain, or bubble column for the effect to apply.",
              "default": false
            }
          }
        }
      },
      "required": ["ability_type"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "properties": {
        "ability_type": {
          "type": "string",
          "enum": ["conditional_effect"],
          "description": "Specifies that this ability applies status effects to the dragon and/or its owner when a specific condition is met. Uses GenericConditionalEffectAbility implementation."
        },
        "max_tier": {
          "type": "integer",
          "description": "Maximum tier level this ability can reach. Higher tiers typically provide stronger effects.",
          "minimum": 1,
          "default": 1,
          "examples": [3, 5]
        },
        "breed_transferable": {
          "type": "boolean",
          "description": "Whether the ability can be transferred to offspring when breeding dragons.",
          "default": false,
          "examples": [true, false]
        },
        "properties": {
          "type": "object",
          "description": "Properties specific to conditional effect abilities.",
          "properties": {
            "range": {
              "type": "integer",
              "description": "Range in blocks for the ability effect.",
              "minimum": 0,
              "default": 10
            },
            "apply_to_dragon": {
              "type": "boolean",
              "description": "Whether to apply the effect to the dragon itself.",
              "default": true
            },
            "apply_to_owner": {
              "type": "boolean",
              "description": "Whether to apply the effect to the dragon's owner.",
              "default": true
            },
            "condition_type": {
              "type": "string",
              "description": "The condition that must be met for the effect to apply.",
              "enum": ["none", "in_water", "near_nature", "on_ground", "flying", "day", "night", "health_low", "health_full", "alone", "raining", "thundering"],
              "default": "none"
            },
            "nature_check_radius": {
              "type": "integer",
              "description": "Radius in blocks to check for nature blocks when condition_type is 'near_nature'.",
              "minimum": 0,
              "default": 2
            },
            "effects": {
              "type": "array",
              "description": "List of effects to apply when the condition is met.",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "$ref": "definitions.json#/$defs/effect",
                    "description": "The status effect to apply."
                  },
                  "duration": {
                    "$ref": "definitions.json#/$defs/duration_integer",
                    "description": "Duration of the effect in ticks.",
                    "default": 40
                  },
                  "amplifier": {
                    "type": "integer",
                    "description": "Amplifier level of the effect (0 = level 1).",
                    "minimum": 0,
                    "default": 0
                  },
                  "ambient": {
                    "type": "boolean",
                    "description": "Whether the effect is ambient (from a beacon).",
                    "default": true
                  },
                  "show_particles": {
                    "type": "boolean",
                    "description": "Whether to show effect particles.",
                    "default": false
                  },
                  "show_icon": {
                    "type": "boolean",
                    "description": "Whether to show the effect icon.",
                    "default": true
                  },
                  "duration_scale_factor": {
                    "type": "number",
                    "description": "Factor by which the duration scales with ability tier.",
                    "minimum": 0,
                    "default": 1.0
                  },
                  "amplifier_scale_factor": {
                    "type": "number",
                    "description": "Factor by which the amplifier scales with ability tier.",
                    "minimum": 0,
                    "default": 0.0
                  }
                },
                "required": ["id"]
              }
            }
          }
        }
      },
      "required": ["ability_type"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "properties": {
        "ability_type": {
          "type": "string",
          "enum": ["event_trigger"],
          "description": "Specifies that this ability triggers effects based on events like attacks, damage, kills, etc. Uses GenericEventTriggerAbility implementation."
        },
        "max_tier": {
          "type": "integer",
          "description": "Maximum tier level this ability can reach. Higher tiers typically provide stronger effects.",
          "minimum": 1,
          "default": 1,
          "examples": [3, 5]
        },
        "breed_transferable": {
          "type": "boolean",
          "description": "Whether the ability can be transferred to offspring when breeding dragons.",
          "default": false,
          "examples": [true, false]
        },
        "properties": {
          "type": "object",
          "description": "Properties specific to event trigger abilities.",
          "properties": {
            "event_type": {
              "type": "string",
              "description": "The type of event that triggers this ability.",
              "enum": ["on_attack", "on_damage", "on_kill", "on_critical", "on_mount", "on_dismount", "on_feed"],
              "default": "on_attack"
            },
            "trigger_chance": {
              "type": "number",
              "description": "Chance (0.0-1.0) that the ability triggers when the event occurs.",
              "minimum": 0.0,
              "maximum": 1.0,
              "default": 1.0
            },
            "cooldown_ticks": {
              "type": "integer",
              "description": "Cooldown in ticks before the ability can trigger again.",
              "minimum": 0,
              "default": 0
            },
            "apply_to_dragon": {
              "type": "boolean",
              "description": "Whether to apply effects to the dragon itself.",
              "default": true
            },
            "apply_to_owner": {
              "type": "boolean",
              "description": "Whether to apply effects to the dragon's owner.",
              "default": false
            },
            "apply_to_target": {
              "type": "boolean",
              "description": "Whether to apply effects to the event target (if applicable).",
              "default": false
            },
            "effects": {
              "type": "array",
              "description": "List of effects to apply when the event triggers.",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "$ref": "definitions.json#/$defs/effect",
                    "description": "The status effect to apply."
                  },
                  "duration": {
                    "$ref": "definitions.json#/$defs/duration_integer",
                    "description": "Duration of the effect in ticks.",
                    "default": 40
                  },
                  "amplifier": {
                    "type": "integer",
                    "description": "Amplifier level of the effect (0 = level 1).",
                    "minimum": 0,
                    "default": 0
                  },
                  "ambient": {
                    "type": "boolean",
                    "description": "Whether the effect is ambient (from a beacon).",
                    "default": true
                  },
                  "show_particles": {
                    "type": "boolean",
                    "description": "Whether to show effect particles.",
                    "default": false
                  },
                  "show_icon": {
                    "type": "boolean",
                    "description": "Whether to show the effect icon.",
                    "default": true
                  },
                  "duration_scale_factor": {
                    "type": "number",
                    "description": "Factor by which the duration scales with ability tier.",
                    "minimum": 0,
                    "default": 1.0
                  },
                  "amplifier_scale_factor": {
                    "type": "number",
                    "description": "Factor by which the amplifier scales with ability tier.",
                    "minimum": 0,
                    "default": 0.0
                  }
                },
                "required": ["id"]
              }
            }
          }
        }
      },
      "required": ["ability_type"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "properties": {
        "ability_type": {
          "type": "string",
          "enum": ["environmental_sensor"],
          "description": "Specifies that this ability applies effects based on environmental conditions like time, weather, biome, or dimension. Uses GenericEnvironmentalSensorAbility implementation."
        },
        "max_tier": {
          "type": "integer",
          "description": "Maximum tier level this ability can reach. Higher tiers typically provide stronger effects.",
          "minimum": 1,
          "default": 1,
          "examples": [3, 5]
        },
        "breed_transferable": {
          "type": "boolean",
          "description": "Whether the ability can be transferred to offspring when breeding dragons.",
          "default": false,
          "examples": [true, false]
        },
        "properties": {
          "type": "object",
          "description": "Properties specific to environmental sensor abilities.",
          "properties": {
            "condition_type": {
              "type": "string",
              "description": "The type of environmental condition to check.",
              "enum": ["time_based", "weather_based", "biome_based", "dimension_based"],
              "default": "time_based"
            },
            "range": {
              "type": "integer",
              "description": "Range in blocks for owner proximity requirement.",
              "minimum": 0,
              "default": 0
            },
            "apply_to_dragon": {
              "type": "boolean",
              "description": "Whether to apply effects to the dragon itself.",
              "default": true
            },
            "apply_to_owner": {
              "type": "boolean",
              "description": "Whether to apply effects to the dragon's owner.",
              "default": false
            },
            "min_time": {
              "type": "integer",
              "description": "Minimum time of day (0-24000) for time_based condition.",
              "minimum": 0,
              "maximum": 24000,
              "default": 0
            },
            "max_time": {
              "type": "integer",
              "description": "Maximum time of day (0-24000) for time_based condition.",
              "minimum": 0,
              "maximum": 24000,
              "default": 24000
            },
            "requires_rain": {
              "type": "boolean",
              "description": "Whether rain is required for weather_based condition.",
              "default": false
            },
            "requires_thunder": {
              "type": "boolean",
              "description": "Whether thunder is required for weather_based condition.",
              "default": false
            },
            "requires_clear": {
              "type": "boolean",
              "description": "Whether clear weather is required for weather_based condition.",
              "default": false
            },
            "required_biome": {
              "type": "string",
              "description": "Specific biome ID required for biome_based condition.",
              "default": ""
            },
            "biome_tag": {
              "type": "string",
              "description": "Biome tag required for biome_based condition.",
              "default": ""
            },
            "required_dimension": {
              "type": "string",
              "description": "Specific dimension ID required for dimension_based condition.",
              "default": ""
            },
            "effects": {
              "type": "array",
              "description": "List of effects to apply when the environmental condition is met.",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "$ref": "definitions.json#/$defs/effect",
                    "description": "The status effect to apply."
                  },
                  "duration": {
                    "$ref": "definitions.json#/$defs/duration_integer",
                    "description": "Duration of the effect in ticks.",
                    "default": 40
                  },
                  "amplifier": {
                    "type": "integer",
                    "description": "Amplifier level of the effect (0 = level 1).",
                    "minimum": 0,
                    "default": 0
                  },
                  "ambient": {
                    "type": "boolean",
                    "description": "Whether the effect is ambient (from a beacon).",
                    "default": true
                  },
                  "show_particles": {
                    "type": "boolean",
                    "description": "Whether to show effect particles.",
                    "default": false
                  },
                  "show_icon": {
                    "type": "boolean",
                    "description": "Whether to show the effect icon.",
                    "default": true
                  },
                  "duration_scale_factor": {
                    "type": "number",
                    "description": "Factor by which the duration scales with ability tier.",
                    "minimum": 0,
                    "default": 1.0
                  },
                  "amplifier_scale_factor": {
                    "type": "number",
                    "description": "Factor by which the amplifier scales with ability tier.",
                    "minimum": 0,
                    "default": 0.0
                  }
                },
                "required": ["id"]
              }
            }
          }
        }
      },
      "required": ["ability_type"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "properties": {
        "ability_type": {
          "type": "string",
          "enum": ["resource_generator"],
          "description": "Specifies that this ability generates resources over time. Uses GenericResourceGeneratorAbility implementation."
        },
        "max_tier": {
          "type": "integer",
          "description": "Maximum tier level this ability can reach. Higher tiers typically provide stronger effects.",
          "minimum": 1,
          "default": 1,
          "examples": [3, 5]
        },
        "breed_transferable": {
          "type": "boolean",
          "description": "Whether the ability can be transferred to offspring when breeding dragons.",
          "default": false,
          "examples": [true, false]
        },
        "properties": {
          "type": "object",
          "description": "Properties specific to resource generator abilities.",
          "properties": {
            "generation_interval": {
              "type": "integer",
              "description": "Interval in ticks between resource generation attempts.",
              "minimum": 1,
              "default": 1200
            },
            "requires_owner_nearby": {
              "type": "boolean",
              "description": "Whether the owner must be nearby for generation to occur.",
              "default": true
            },
            "range": {
              "type": "integer",
              "description": "Range in blocks for owner proximity requirement.",
              "minimum": 0,
              "default": 10
            },
            "condition": {
              "type": "string",
              "description": "Additional condition for resource generation.",
              "enum": ["none", "in_water", "on_ground", "flying", "day", "night"],
              "default": "none"
            },
            "resources": {
              "type": "array",
              "description": "List of resources that can be generated.",
              "items": {
                "type": "object",
                "properties": {
                  "item": {
                    "$ref": "definitions.json#/$defs/identifier",
                    "description": "The item to generate."
                  },
                  "min_count": {
                    "type": "integer",
                    "description": "Minimum number of items to generate.",
                    "minimum": 1,
                    "default": 1
                  },
                  "max_count": {
                    "type": "integer",
                    "description": "Maximum number of items to generate.",
                    "minimum": 1,
                    "default": 1
                  },
                  "chance": {
                    "type": "number",
                    "description": "Chance (0.0-1.0) that this resource is generated.",
                    "minimum": 0.0,
                    "maximum": 1.0,
                    "default": 1.0
                  }
                },
                "required": ["item"]
              }
            }
          }
        }
      },
      "required": ["ability_type"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "properties": {
        "ability_type": {
          "type": "string",
          "enum": ["block_interaction"],
          "description": "Specifies that this ability allows interaction with blocks like crop growth or harvesting. Uses GenericBlockInteractionAbility implementation."
        },
        "max_tier": {
          "type": "integer",
          "description": "Maximum tier level this ability can reach. Higher tiers typically provide stronger effects.",
          "minimum": 1,
          "default": 1,
          "examples": [3, 5]
        },
        "breed_transferable": {
          "type": "boolean",
          "description": "Whether the ability can be transferred to offspring when breeding dragons.",
          "default": false,
          "examples": [true, false]
        },
        "properties": {
          "type": "object",
          "description": "Properties specific to block interaction abilities.",
          "properties": {
            "interaction_type": {
              "type": "string",
              "description": "The type of block interaction to perform.",
              "enum": ["growth_acceleration", "auto_harvest", "fertilize"],
              "default": "growth_acceleration"
            },
            "range": {
              "type": "integer",
              "description": "Range in blocks to search for target blocks.",
              "minimum": 1,
              "default": 3
            },
            "interval_ticks": {
              "type": "integer",
              "description": "Interval in ticks between interaction attempts.",
              "minimum": 1,
              "default": 100
            },
            "effect_chance": {
              "type": "number",
              "description": "Chance (0.0-1.0) that each block interaction succeeds.",
              "minimum": 0.0,
              "maximum": 1.0,
              "default": 0.3
            },
            "requires_owner_nearby": {
              "type": "boolean",
              "description": "Whether the owner must be nearby for interactions to occur.",
              "default": false
            },
            "owner_range": {
              "type": "integer",
              "description": "Range in blocks for owner proximity requirement.",
              "minimum": 0,
              "default": 10
            },
            "target_block_tag": {
              "type": "string",
              "description": "Block tag to target for interactions.",
              "default": ""
            },
            "target_block": {
              "type": "string",
              "description": "Specific block ID to target for interactions.",
              "default": ""
            }
          }
        }
      },
      "required": ["ability_type"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "properties": {
        "ability_type": {
          "type": "string",
          "enum": ["footprint_generator"],
          "description": "Specifies that this ability creates footprints or trails when the dragon moves. Uses GenericFootprintGeneratorAbility implementation."
        },
        "max_tier": {
          "type": "integer",
          "description": "Maximum tier level this ability can reach. Higher tiers typically provide stronger effects.",
          "minimum": 1,
          "default": 1,
          "examples": [3, 5]
        },
        "breed_transferable": {
          "type": "boolean",
          "description": "Whether the ability can be transferred to offspring when breeding dragons.",
          "default": false,
          "examples": [true, false]
        },
        "properties": {
          "type": "object",
          "description": "Properties specific to footprint generator abilities.",
          "properties": {
            "footprint_chance": {
              "type": "number",
              "description": "Chance (0.0-1.0) that a footprint is created when the dragon moves.",
              "minimum": 0.0,
              "maximum": 1.0,
              "default": 0.1
            },
            "placement_block": {
              "type": "string",
              "description": "Block ID to place as footprints.",
              "default": ""
            },
            "replacement_block": {
              "type": "string",
              "description": "Specific block ID that can be replaced by footprints.",
              "default": ""
            },
            "replace_air": {
              "type": "boolean",
              "description": "Whether footprints can replace air blocks.",
              "default": true
            },
            "replace_water": {
              "type": "boolean",
              "description": "Whether footprints can replace water blocks.",
              "default": false
            },
            "replace_lava": {
              "type": "boolean",
              "description": "Whether footprints can replace lava blocks.",
              "default": false
            },
            "pattern": {
              "type": "string",
              "description": "Pattern for footprint placement.",
              "enum": ["single", "cross", "circle"],
              "default": "single"
            },
            "requires_adult": {
              "type": "boolean",
              "description": "Whether the dragon must be adult to create footprints.",
              "default": true
            },
            "requires_on_ground": {
              "type": "boolean",
              "description": "Whether the dragon must be on ground to create footprints.",
              "default": true
            }
          }
        }
      },
      "required": ["ability_type"],
      "additionalProperties": false
    },
    {
      "type": "object",
      "description": "Custom ability type - allows for any ability_type not covered by the predefined types above.",
      "properties": {
        "ability_type": {
          "$ref": "definitions.json#/$defs/identifier",
          "description": "Custom ability type identifier. This allows for extensibility beyond the predefined ability types."
        },
        "max_tier": {
          "type": "integer",
          "description": "Maximum tier level this ability can reach. Higher tiers typically provide stronger effects.",
          "minimum": 1,
          "default": 1,
          "examples": [3, 5]
        },
        "breed_transferable": {
          "type": "boolean",
          "description": "Whether the ability can be transferred to offspring when breeding dragons.",
          "default": false,
          "examples": [true, false]
        },
        "properties": {
          "type": "object",
          "description": "Properties specific to the custom ability type. The structure varies based on the ability_type value."
        },
        "attributes": {
          "$ref": "definitions.json#/$defs/attributes",
          "description": "Attribute modifiers to apply when the ability affects attributes. Maps attribute IDs to their numeric values."
        }
      },
      "required": ["ability_type"],
      "additionalProperties": true,
      "not": {
        "properties": {
          "ability_type": {
            "enum": ["effect", "attribute", "aura", "monster_aura", "conditional_effect", "event_trigger", "environmental_sensor", "resource_generator", "block_interaction", "footprint_generator"]
          }
        }
      }
    }
  ]
}
